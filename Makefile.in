# Which compiler to use
#CC = cc
hasGPU=0
CC = icpc
NVCC = nvcc

CUINCLUDES = -I/home/niuq/code/gpu/cusplibrary -I/home/niuq/code/cub-1.0.2
CUOPTFLAGS = -arch sm_20 -O0 -g -G
CUOPTFLAGS = -arch sm_20 -O3 

# What optimization level to use
#OPTFLAGS = -fast -openmp
OPTFLAGS = -O0 -openmp -vec-report1 -restrict -Dprofiling
OPTFLAGS = -O3 -openmp -vec-report1 -restrict #-Dprofiling #-DAGGR



LIBDIR=nlibs
LIBNAME=libnrmcl.a

# What options to be used by the compiler
COPTIONS= -Wno-write-strings -g -std=c++0x
#COPTIONS =  -Wall -g
#COPTIONS = -g
#COPTIONS = -Wno-write-strings

CUDA_HOME = /opt/cuda/5.5
CINCLUDES = -I.

# What options to be used by the loader
#LDOPTIONS = -L$(CUDA_HOME)/lib -lcudart -Wl,-rpath,$(CUDA_HOME)/lib 
ifeq ($(hasGPU), 1)
OPTFLAGS+=-Denable_gpu
LDOPTIONS= -L$(CUDA_HOME)/lib64 -Wl,-rpath,$(CUDA_HOME)/lib64 -lcudart -lcusparse
CINCLUDES+= -I$(CUDA_HOME)/include
endif

# What archiving to use
AR = ar rv

# What to use for indexing the archive
RANLIB = ranlib
#RANLIB = ar -ts
#RANLIB = 


